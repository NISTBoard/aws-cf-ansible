---
- name: Create VPC
  hosts: localhost
  vars:
    name: vpc
    stack_template: includes/stack.yml
    template: vpc.yml.j2
    stack_prefix: test
    team_tag: dev
    vpc_cidr: 10.0.0.0/16

  tasks:
    - include: "{{ stack_template }}"
      tags: vpc
      vars:
        vpc:
          cidr: "{{vpc_cidr}}"
          slash: 24     # size of segment CIDRs
        segments:
          Public:
            azs: 3
            slash: 26   # size of AZ subnets in each segment
          Private:
            azs: 3
            slash: 26   # size of AZ subnets in each segment
